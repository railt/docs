# Режим отладки

Режим отладки - это окружение для разработчика, которое требуется для удобного
воспроизведения ошибок и прросмотра статуса сервера.
  
Для того, чтобы переключить приложение в режим отладки  
достаточно передать значение `true` в качестве первого аргумента приложения.

```php
<?php

$app = new Railt\Foundation\Application(true);
```

Режим отладки (`true`) влияет на следующие параметры:
- Включение полного сообщения об ошибке, возникшего на стороне сервера.
- Включнение информации об исключении (линия, файл, класс).
- Включение трейса исключения.
- Включение отображения системной информации о потребляемой памяти.
- Включение форматирования ответа.

## Переменные окружения

Если приложение является самостоятельным, а не частью другого фреймворка, 
то рекомендуется пользоваться переменными окружения и функцией `getenv` в 
частности для установки режима отладки.

```php
<?php

$debug = \getenv('RAILT_DEBUG') ?? false;

$app = new Railt\Foundation\Application((bool)$debug);
```

## Взаимодействие с фреймворками

Если ваше GraphQL приложение является частью другого фреймворка, вроде 
Laravel или Symfony, то они предоставляют аналогичные возможности и для 
включения режима отладки стоит воспользоваться встроенным функционалом.

Например, для Laravel это будет выглядеть примерно так:

```php
<?php
namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Railt\Foundation\Application;

class GraphQLController extends Controller
{
    private $app;
    
    public function __construct()
    {
        $this->app = new Application(config('app.debug'));
    }
    
    public function requestAction(Request $request)
    {
        // $this->app...
        //
        // return $response;
    }
}
```
